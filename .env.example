# =============================================================================
# Comic Pile - Environment Configuration
# =============================================================================
# Copy this file to .env and update values for your environment.
# Required variables are marked with (REQUIRED).
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------

# (REQUIRED) PostgreSQL database connection URL
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://comicpile:comicpile_password@localhost:5432/comicpile

# Database URL for running tests (optional, uses separate test database)
# Uses asyncpg driver for better performance
# Default: postgresql+asyncpg://comicpile:comicpile_password@localhost:5435/comicpile_test
TEST_DATABASE_URL=postgresql+asyncpg://comicpile:comicpile_password@localhost:5435/comicpile_test

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------

# (REQUIRED) Secret key for JWT token signing
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here

# JWT token expiration settings (optional, defaults shown)
# ACCESS_TOKEN_EXPIRE_MINUTES=30
# REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------

# Environment mode: development, production, or test
# Default: development
ENVIRONMENT=development

# Comma-separated list of allowed CORS origins
# (REQUIRED in production mode, optional in development)
# Example: https://example.com,https://app.example.com
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# Enable debug routes (should be false in production)
# Default: false
ENABLE_DEBUG_ROUTES=false

# Enable internal operations routes (admin endpoints)
# Default: false
ENABLE_INTERNAL_OPS_ROUTES=false

# Logging level: debug, info, warning, error
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Session & Game Settings
# -----------------------------------------------------------------------------

# Hours of inactivity before starting a new reading session (1-168)
# Default: 6
SESSION_GAP_HOURS=6

# Starting die size for new sessions (4-20)
# Default: 6
START_DIE=6

# -----------------------------------------------------------------------------
# Rating System Settings
# -----------------------------------------------------------------------------

# Minimum allowed rating value (0.0-5.0)
# Default: 0.5
RATING_MIN=0.5

# Maximum allowed rating value (0.5-5.0)
# Default: 5.0
RATING_MAX=5.0

# Rating threshold for "good" rating that moves thread to front (0.5-5.0)
# Default: 4.0
RATING_THRESHOLD=4.0

# -----------------------------------------------------------------------------
# Backup Configuration
# -----------------------------------------------------------------------------

# Enable automatic database backup on startup
# Default: true
AUTO_BACKUP_ENABLED=true

# Directory for database backups
# Default: backups
BACKUP_DIR=backups

# Maximum number of backup files to retain
# Default: 10
MAX_BACKUPS=10

# Skip backup if database hasn't changed since last backup
# Default: true
SKIP_IF_UNCHANGED=true

# -----------------------------------------------------------------------------
# CI/Testing (used in CI environments)
# -----------------------------------------------------------------------------

# Set to "true" when running in CI environment
# CI=true

# Skip worktree check (for testing)
# SKIP_WORKTREE_CHECK=false

# -----------------------------------------------------------------------------
# Production variables (uncomment for production deployment)
# -----------------------------------------------------------------------------
# POSTGRES_USER=comicpile_prod
# POSTGRES_PASSWORD=<strong-random-password>
# POSTGRES_DB=comicpile_prod
# Generate SECRET_KEY with: openssl rand -base64 32
