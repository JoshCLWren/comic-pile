<div id="add-thread-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-lg shadow-lg max-w-md w-full p-6">
        <h2 class="text-xl font-bold mb-4">Add New Thread</h2>
        <form
            hx-post="/threads/"
            hx-target="#queue-list"
            hx-swap="innerHTML"
            hx-on::after-request="this.closest('#add-thread-modal').classList.add('hidden');"
        >
            <div class="mb-4">
                <label for="title" class="block text-sm font-medium text-gray-700 mb-1">Title</label>
                <input
                    type="text"
                    name="title"
                    id="title"
                    required
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[44px]"
                    placeholder="e.g., Hellboy Omnibus Vol 2"
                >
            </div>

            <div class="mb-4">
                <label for="format" class="block text-sm font-medium text-gray-700 mb-1">Format</label>
                <select
                    name="format"
                    id="format"
                    required
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[44px]"
                >
                    <option value="">Select format...</option>
                    <option value="TPB">TPB (Trade Paperback)</option>
                    <option value="Issue">Issue</option>
                    <option value="Graphic Novel">Graphic Novel</option>
                    <option value="OGN">OGN (Original Graphic Novel)</option>
                </select>
            </div>

            <div class="mb-6">
                <label for="issues_remaining" class="block text-sm font-medium text-gray-700 mb-1">Issues Remaining</label>
                <input
                    type="number"
                    name="issues_remaining"
                    id="issues_remaining"
                    min="1"
                    required
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[44px]"
                    placeholder="e.g., 6"
                >
            </div>

            <div class="mb-6">
                <label class="flex items-center space-x-2">
                    <input
                        type="checkbox"
                        name="is_test"
                        id="is_test"
                        class="w-5 h-5 text-blue-500 border-gray-300 rounded focus:ring-blue-500"
                    >
                    <span class="text-sm font-medium text-gray-700">Mark as test comic</span>
                </label>
                <p class="text-xs text-gray-500 mt-1">Test comics are excluded from normal reading sessions</p>
            </div>

            <div class="flex space-x-3">
                <button
                    type="button"
                    onclick="document.getElementById('add-thread-modal').classList.add('hidden')"
                    class="flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg min-h-[44px] text-lg font-medium"
                >
                    Cancel
                </button>
                <button
                    type="submit"
                    class="flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg min-h-[44px] text-lg font-medium relative"
                >
                    <span class="htmx-indicator absolute inset-0 flex items-center justify-center gap-2 bg-blue-500 rounded-lg">
                        <span class="spinner"></span>
                        <span>Adding...</span>
                    </span>
                    <span class="htmx-request:opacity-30">Add Thread</span>
                </button>
            </div>
        </form>
    </div>
</div>
