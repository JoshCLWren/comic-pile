{% if search_results.tasks %}
<div class="glass-card">
    <h2 class="text-lg font-semibold text-teal-400 mb-3">Search Results ({{ search_results.pagination.total_count }})</h2>
    <div class="space-y-2">
        {% for task in search_results.tasks %}
        <div class="bg-white/5 rounded-lg p-3">
            <div class="flex items-center justify-between">
                <div class="flex-1 min-w-0">
                    <div class="flex items-center gap-2">
                        <span class="text-xs font-mono text-teal-400">{{ task.task_id }}</span>
                        <span class="text-xs px-2 py-0.5 rounded bg-{{ 'rose' if task.priority == 'HIGH' else 'amber' if task.priority == 'MEDIUM' else 'slate' }}-500/20 text-{{ 'rose' if task.priority == 'HIGH' else 'amber' if task.priority == 'MEDIUM' else 'slate' }}-400">{{ task.priority }}</span>
                        <span class="text-xs px-2 py-0.5 rounded bg-slate-500/20 text-slate-400">{{ task.status }}</span>
                    </div>
                    <p class="text-sm font-medium text-slate-200 truncate mt-1">{{ task.title }}</p>
                    {% if task.description %}
                    <p class="text-xs text-slate-400 mt-1">{{ task.description }}</p>
                    {% endif %}
                    <div class="flex items-center gap-4 mt-1">
                        {% if task.assigned_agent %}
                        <p class="text-xs text-slate-400">
                            <span class="font-medium">Agent:</span> {{ task.assigned_agent }}
                        </p>
                        {% endif %}
                        <p class="text-xs text-slate-400">
                            <span class="font-medium">Type:</span> {{ task.task_type }}
                        </p>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    <div class="flex items-center justify-between mt-4 p-3 bg-slate-800/50 rounded-lg">
        <p class="text-sm text-slate-400">
            Page {{ search_results.pagination.page }} of {{ search_results.pagination.total_pages }} ({{ search_results.pagination.total_count }} total)
        </p>
        <div class="flex items-center gap-2">
            <button
                {% if not search_results.pagination.has_prev %}disabled{% endif %}
                hx-get="/api/tasks/search"
                hx-include="#search-q, #search-task-type, #search-priority, #search-status, #search-agent"
                hx-vals='{"page": {{ search_results.pagination.page - 1 }}}'
                hx-target="#coordinator-content"
                class="px-3 py-1.5 bg-slate-600/20 text-slate-400 rounded-lg text-sm hover:bg-slate-600/30 disabled:opacity-50 transition-all"
            >
                Previous
            </button>
            <button
                {% if not search_results.pagination.has_next %}disabled{% endif %}
                hx-get="/api/tasks/search"
                hx-include="#search-q, #search-task-type, #search-priority, #search-status, #search-agent"
                hx-vals='{"page": {{ search_results.pagination.page + 1 }}}'
                hx-target="#coordinator-content"
                class="px-3 py-1.5 bg-slate-600/20 text-slate-400 rounded-lg text-sm hover:bg-slate-600/30 disabled:opacity-50 transition-all"
            >
                Next
            </button>
        </div>
    </div>
</div>
{% else %}
<div class="glass-card">
    <h2 class="text-lg font-semibold text-slate-400 mb-3">No Results Found</h2>
    <p class="text-slate-400">Try adjusting your search terms or filters.</p>
</div>
{% endif %}
