import{j as e,L as r}from"./index-CUsdZTu0.js";import{a as l}from"./useSession-BE1tEQ-j.js";import{f as i,a as c}from"./dateFormat-G9NpmD2j.js";import{L as d}from"./LoadingSpinner-DXuH6jdP.js";import"./useQuery-C44W2QkO.js";import"./useMutation-fDf1YDOa.js";function u(){const{data:t,isLoading:s}=l();return s?e.jsx(d,{fullScreen:!0}):!t||t.length===0?e.jsxs("div",{className:"space-y-8 pb-20",children:[e.jsxs("header",{className:"px-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-4xl font-black tracking-tighter text-glow mb-1 uppercase",children:"History"}),e.jsx("a",{href:"/admin/export/summary/",className:"h-10 px-4 glass-button text-[10px] font-black uppercase tracking-widest whitespace-nowrap shadow-xl",download:!0,children:"Export Summary"})]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Chronicle of your journey"})]}),e.jsx("div",{className:"text-center text-slate-500",children:"No sessions yet"})]}):e.jsxs("div",{className:"space-y-8 pb-20",children:[e.jsxs("header",{className:"px-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-4xl font-black tracking-tighter text-glow mb-1 uppercase",children:"History"}),e.jsx("a",{href:"/admin/export/summary/",className:"h-10 px-4 glass-button text-[10px] font-black uppercase tracking-widest whitespace-nowrap shadow-xl",download:!0,children:"Export Summary"})]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Chronicle of your journey"})]}),e.jsx("div",{id:"sessions-list",className:"space-y-4",role:"list","aria-label":"Session history",children:t.map(a=>e.jsx("div",{className:"glass-card p-6 group transition-all hover:border-white/20 relative overflow-hidden",children:e.jsxs("div",{className:"flex justify-between items-start gap-6 relative z-10",children:[e.jsxs("div",{className:"space-y-4 flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"px-2 py-0.5 bg-white/5 rounded-lg border border-white/5 text-[9px] font-black uppercase tracking-widest text-slate-400",children:i(a.started_at)}),e.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest text-slate-600",children:c(a.started_at)})]}),a.ladder_path&&e.jsx("div",{className:"space-y-2",children:e.jsxs("p",{className:"text-sm font-black text-slate-300",children:["Ladder: ",Array.isArray(a.ladder_path)?a.ladder_path.join(", "):a.ladder_path]})}),a.active_thread&&e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsx("p",{className:"font-black text-slate-300 truncate",children:a.active_thread.title}),e.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:a.active_thread.format}),a.last_rolled_result!==null&&a.last_rolled_result!==void 0&&e.jsxs("p",{className:"text-[9px] font-black text-teal-300 uppercase tracking-widest",children:["Roll: ",a.last_rolled_result]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(r,{to:`/sessions/${a.id}`,className:"h-12 px-6 glass-button text-xs font-black uppercase tracking-widest whitespace-nowrap shadow-xl",children:"Details"})})]})},a.id))})]})}export{u as default};
