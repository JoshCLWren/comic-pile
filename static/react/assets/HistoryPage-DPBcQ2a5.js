import{j as e,L as i}from"./index-DEDQ_nzL.js";import{a as n}from"./useSession-BukkP7oz.js";import"./useQuery-Bk8rEq84.js";import"./useMutation-kyQIuJiC.js";function h(){const{data:a,isLoading:s}=n();if(s)return e.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."});if(!a||a.length===0)return e.jsxs("div",{className:"space-y-8 pb-20",children:[e.jsxs("header",{className:"px-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-4xl font-black tracking-tighter text-glow mb-1 uppercase",children:"History"}),e.jsx("a",{href:"/admin/export/summary/",className:"h-10 px-4 glass-button text-[10px] font-black uppercase tracking-widest whitespace-nowrap shadow-xl",download:!0,children:"Export Summary"})]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Chronicle of your journey"})]}),e.jsx("div",{className:"text-center text-slate-500",children:"No sessions yet"})]});const r=t=>t?new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"",l=t=>t?new Date(t).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"";return e.jsxs("div",{className:"space-y-8 pb-20",children:[e.jsxs("header",{className:"px-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-4xl font-black tracking-tighter text-glow mb-1 uppercase",children:"History"}),e.jsx("a",{href:"/admin/export/summary/",className:"h-10 px-4 glass-button text-[10px] font-black uppercase tracking-widest whitespace-nowrap shadow-xl",download:!0,children:"Export Summary"})]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Chronicle of your journey"})]}),e.jsx("div",{id:"sessions-list",className:"space-y-4",role:"list","aria-label":"Session history",children:a.map(t=>e.jsx("div",{className:"glass-card p-6 group transition-all hover:border-white/20 relative overflow-hidden",children:e.jsxs("div",{className:"flex justify-between items-start gap-6 relative z-10",children:[e.jsxs("div",{className:"space-y-4 flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"px-2 py-0.5 bg-white/5 rounded-lg border border-white/5 text-[9px] font-black uppercase tracking-widest text-slate-400",children:r(t.started_at)}),e.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest text-slate-600",children:l(t.started_at)})]}),t.ladder_path&&e.jsx("div",{className:"space-y-2",children:e.jsxs("p",{className:"text-sm font-black text-slate-300",children:["Ladder: ",Array.isArray(t.ladder_path)?t.ladder_path.join(", "):t.ladder_path]})}),t.active_thread&&e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsx("p",{className:"font-black text-slate-300 truncate",children:t.active_thread.title}),e.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:t.active_thread.format}),t.last_rolled_result!==null&&t.last_rolled_result!==void 0&&e.jsxs("p",{className:"text-[9px] font-black text-teal-300 uppercase tracking-widest",children:["Roll: ",t.last_rolled_result]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(i,{to:`/sessions/${t.id}`,className:"h-12 px-6 glass-button text-xs font-black uppercase tracking-widest whitespace-nowrap shadow-xl",children:"Details"})})]})},t.id))})]})}export{h as default};
