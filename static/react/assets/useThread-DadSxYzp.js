import{j as s,u as n,t as r}from"./index-CUsdZTu0.js";import{u}from"./useQuery-C44W2QkO.js";import{u as i}from"./useMutation-fDf1YDOa.js";function h({isOpen:t,title:e,onClose:a,children:l}){return t?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur",onClick:a,"aria-hidden":"true"}),s.jsxs("div",{className:"relative w-full max-w-lg glass-card p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("h2",{className:"text-xl font-black tracking-tight text-slate-100 uppercase",children:e}),s.jsx("button",{type:"button",onClick:a,className:"text-slate-500 hover:text-slate-200 transition-colors text-2xl leading-none","aria-label":"Close modal",children:"Ã—"})]}),l]})]}):null}function m(){return u({queryKey:["threads"],queryFn:()=>r.list()})}function y(t=30){return u({queryKey:["threads","stale",t],queryFn:()=>r.listStale(t)})}function p(){const t=n();return i({mutationFn:e=>r.create(e),onSuccess:()=>{t.invalidateQueries({queryKey:["threads"]})},onError:e=>{console.error("Failed to create thread:",e.response?.data?.detail||e.message)}})}function x(){const t=n();return i({mutationFn:({id:e,data:a})=>r.update(e,a),onSuccess:(e,a)=>{t.invalidateQueries({queryKey:["thread",a.id]}),t.invalidateQueries({queryKey:["threads"]})},onError:e=>{console.error("Failed to update thread:",e.response?.data?.detail||e.message)}})}function f(){const t=n();return i({mutationFn:e=>r.delete(e),onSuccess:()=>{t.invalidateQueries({queryKey:["threads"]})},onError:e=>{console.error("Failed to delete thread:",e.response?.data?.detail||e.message)}})}function v(){const t=n();return i({mutationFn:e=>r.reactivate(e),onSuccess:()=>{t.invalidateQueries({queryKey:["threads"]})},onError:e=>{console.error("Failed to reactivate thread:",e.response?.data?.detail||e.message)}})}export{h as M,y as a,p as b,x as c,f as d,v as e,m as u};
